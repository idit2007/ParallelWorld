using UnityEngine;
using System.Collections;
using System.Collections.Generic;

namespace PlayBento
{
	class AndroidNotification
	{
	#if UNITY_ANDROID && !UNITY_EDITOR
	    private static string fullClassName = "net.agasper.unitynotification.UnityNotificationManager";
	    private static string unityClass = "com.unity3d.player.UnityPlayerNativeActivity";
	#endif
	    
	    public static void SendNotification(int id, long delay, string title, string message, Color32 bgColor, bool sound = true, bool vibrate = true, bool lights = true, string bigIcon = "")
	    {
	#if UNITY_ANDROID && !UNITY_EDITOR
	        AndroidJavaClass pluginClass = new AndroidJavaClass(fullClassName);
	        if (pluginClass != null)
	        {
	            pluginClass.CallStatic("SetNotification", id, unityClass, delay * 1000L, title, message, message, sound ? 1 : 0, vibrate ? 1 : 0, lights ? 1 : 0, bigIcon, "notify_icon_small", bgColor.r * 65536 + bgColor.g * 256 + bgColor.b);
	        }
	#endif
	    }

	    public static void SendRepeatingNotification(int id, long delay, long timeout, string title, string message, Color32 bgColor, bool sound = true, bool vibrate = true, bool lights = true, string bigIcon = "")
	    {
	#if UNITY_ANDROID && !UNITY_EDITOR
	        AndroidJavaClass pluginClass = new AndroidJavaClass(fullClassName);
	        if (pluginClass != null)
	        {
	            pluginClass.CallStatic("SetRepeatingNotification", id, unityClass, delay * 1000L, title, message, message, timeout * 1000, sound ? 1 : 0, vibrate ? 1 : 0, lights ? 1 : 0, bigIcon, "notify_icon_small", bgColor.r * 65536 + bgColor.g * 256 + bgColor.b);
	        }
	#endif
	    }

	    public static void CancelNotification(int id)
	    {
	#if UNITY_ANDROID && !UNITY_EDITOR
	        AndroidJavaClass pluginClass = new AndroidJavaClass(fullClassName);
	        if (pluginClass != null) {
	            pluginClass.CallStatic("CancelNotification", id);
	        }
	#endif
	    }
	}
}
